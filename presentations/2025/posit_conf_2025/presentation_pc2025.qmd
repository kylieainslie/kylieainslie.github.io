---
title: "Elevating Public Health Decision Making with R Packages"
author: "Kylie Ainslie"
footer: posit::conf(2025) | 18 September 2025 | Atlanta, GA
format:
  revealjs:
    fontsize: 1.5em
    embed-resources: true
    theme: default  # or simple if you prefer
    preview-links: auto
    pdf-max-pages-per-slide: 1
logo: figures/Atlanta2.png
incremental: false  # Since you want manual control of reveals
progress: true
slide-number: false
header-includes:
    - |
      <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.6.0/css/all.css">
      
      <style>
        .reveal {
            font-size: 1.8em;  /* Slightly smaller for more content */
        }
        
        .car-slide {
          animation: none; /* Reset animation initially */
          display: inline-block;
        }
        
        /* Trigger animation when slide becomes present */
        .reveal .present .car-slide {
          animation: slideAcross 3s ease-in-out;
        }
        
        @keyframes slideAcross {
          0% { 
            transform: translateX(-300px); 
            opacity: 1; 
          }
          100% { 
            transform: translateX(100vw); 
            opacity: 1; 
          }
        }
      </style>
from: markdown+emoji
chalkboard: false
---

::: notes
Intro: 
- I analyze real-world health data with complex models to help policymakers mitigate infectious disease spread
- My work is high-stakes and requires transparency, reproducibility, and efficiency
- Today I want to share with you a workflow that has elevated my ability to inform public health policy decisions
:::

## Look familiar?

::: {.fragment}
![](figures/project_file_hellscape.png){width=60%}
:::

::: notes
Have you ever thought to yourself:
Where is that script?
Which version is current?
What was I thinking 6 months ago?
:::

## What if there was a better way?

:::::{columns}
:::{.column width="50%"}
::: {.fragment index="1"}
![](figures/hellscape_dir_screenshot.png){width="95%" style="max-height: 80vh; object-fit: contain;"}
:::
:::

:::{.column width="10%"}
::: {.fragment index="2"}
::: {style="display: flex; align-items: center; justify-content: center; height: 80vh; font-size: 2em; font-weight: bold;"}
:arrow_right:
:::
:::
:::

:::{.column width="40%"}
::: {.fragment index="3"}
![](figures/vacamole_dir_screenshot.png){width="85%" style="max-height: 80vh; object-fit: contain;"}
:::
:::
:::::

## How?

::: {.fragment .r-fit-text style="text-align: center;"}
**Structure your project as an R package**
:::

::: incremental
-   **Organize**
-   **Document**
-   **Share**
:::

::: notes

:::

## Let's travel back in time

::: {.fragment}
![](figures/delorean.png){.car-slide width="300px"}
:::

## June 2021 in the Netherlands

::::: columns
::: {.column width="50%"}
![](figures/nl_june_canal.png)
:::

::: {.column width="50%"}
![](figures/nl_windmills.png)
:::
:::::

::: {.fragment .fade-in fragment-index="1"}
![](figures/covid_clipart.jpg){width="100px" style="position: absolute; top: 1%; right: 20%;"}
:::

::: {.fragment .fade-in fragment-index="1"}
![](figures/covid_clipart.jpg){width="100px" style="position: absolute; top: 60%; left: 30%;"}
:::

::: {.fragment .fade-in fragment-index="1"}
![](figures/covid_clipart.jpg){width="100px" style="position: absolute; top: 70%; left: 70%;"}
:::

::: notes
Set the context
:::

## June 2021 in the Netherlands

:::{.r-stack}

::: {.fragment .fade-in-then-out}
![](figures/nl_covid_confirmed_cases.png){width="100%" style="max-height: 600px; object-fit: contain;"}
:::

::: {.fragment .fade-in-then-out}
![](figures/nl_covid_confirmed_cases_decreasing.png){width="98%" style="max-height: 600px; object-fit: contain;"}
:::

::: {.fragment .fade-in-then-out}
![](figures/nl_covid_confirmed_cases_vaccination.png){width="100%" style="max-height: 600px; object-fit: contain;"}
:::

::: {.fragment .fade-in}
![](figures/nl_covid_confirmed_cases_measures.png){width="98%" style="max-height: 600px; object-fit: contain;"}
:::
:::

::: notes
Make picture bigger
:::

## June 2021 in the Netherlands

::: {.fragment .r-fit-text style="text-align: center;"}
*Should the Netherlands extend COVID-19 vaccination to adolescents and children?*

![](figures/kids.jpg){width="25%"}
:::


------------------------------------------------------------------------

## Organize
<!-- slide 1 -->
::::: columns
::: {.column width="50%"}
::: {.fragment fragment-index="1"}
**:x: Typical Project**

```{=html}
<pre style="font-family: monospace; margin: 0; font-size: 24px;">
myproject/
├── analysis.R
├── analysis_FINAL.R
├── analysis_FINAL_v2.R
├── code_guide.pdf
├── data_raw.csv
├── final_report.pdf
├── final_report_FINAL.pdf
├── functions.R
├── methodology.docx
└── more_functions.R
</pre>
```
:::

:::

::: {.column width="50%"}
::: {.fragment fragment-index="2"}
**:white_check_mark: Package Structure**

```{=html}
<pre style="font-family: monospace; margin: 0; font-size: 24px;">
📦 mypackage/
├── R/            # Code
├── inst/extdata/ # Data + Scripts 
├── man/          # Help files
└── vignettes/    # Analysis
</pre>
```
:::

:::
:::::

## Organize
<!-- slide 2 -->
::::: columns
::: {.column width="50%"}
**:x: Typical Project**

```{=html}
<pre style="font-family: monospace; margin: 0; font-size: 24px;">
myproject/
├── analysis.R
├── analysis_FINAL.R
├── analysis_FINAL_v2.R
├── code_guide.pdf
├── data_raw.csv
├── final_report.pdf
├── final_report_FINAL.pdf
<span style="background-color: #fff3cd;">├── functions.R</span>
├── methodology.docx
<span style="background-color: #fff3cd;">└── more_functions.R</span>
</pre>
```
:::

::: {.column width="50%"}

**:white_check_mark: Package Structure**

```{=html} 
<pre style="font-family: monospace; margin: 0; font-size: 24px;">
📦 mypackage/
<span style="background-color: #fff3cd;">├── R/</span>            # Code
<span style="background-color: #fff3cd;">    ├── functions.R</span>
<span style="background-color: #fff3cd;">    └── more_functions.R</span>
├── inst/extdata/ # Data + Scripts 
├── man/          # Help files
└── vignettes/    # Analysis
</pre>
```
:::
:::::

## Organize
<!-- slide 3 -->
::::: columns
::: {.column width="50%"}
**:x: Typical Project**

```{=html}
<pre style="font-family: monospace; margin: 0; font-size: 24px;">
myproject/
<span style="background-color: #e7f3ff;">├── analysis.R</span>
<span style="background-color: #e7f3ff;">├── analysis_FINAL.R</span>
<span style="background-color: #e7f3ff;">├── analysis_FINAL_v2.R</span>
├── code_guide.pdf
<span style="background-color: #e7f3ff;">├── data_raw.csv</span>
├── final_report.pdf
├── final_report_FINAL.pdf
├── functions.R
├── methodology.docx
└── more_functions.R
</pre>
```
:::

::: {.column width="50%"}

**:white_check_mark: Package Structure**

```{=html} 
<pre style="font-family: monospace; margin: 0; font-size: 24px;">
📦 mypackage/
├── R/            # Code
<span style="background-color: #e7f3ff;">├── inst/extdata/</span> # Data + Scripts
<span style="background-color: #e7f3ff;">    ├── analysis.R</span>
<span style="background-color: #e7f3ff;">    ├── analysis_FINAL.R</span>
<span style="background-color: #e7f3ff;">    ├── analysis_FINAL_v2.R</span>
<span style="background-color: #e7f3ff;">    └── data_raw.csv</span>
├── man/          # Help files
└── vignettes/    # Analysis
</pre>
```
:::
:::::

## Organize
<!-- slide 4 -->
::::: columns
::: {.column width="50%"}
**:x: Typical Project**

```{=html}
<pre style="font-family: monospace; margin: 0; font-size: 24px;">
myproject/
├── analysis.R
├── analysis_FINAL.R
├── analysis_FINAL_v2.R
<span style="background-color: #f0fff0;">├── code_guide.pdf</span>
├── data_raw.csv
<span style="background-color: #f0fff0;">├── final_report.pdf</span>
<span style="background-color: #f0fff0;">├── final_report_FINAL.pdf</span>
├── functions.R
<span style="background-color: #f0fff0;">├── methodology.docx</span>
└── more_functions.R
</pre>
```
:::

::: {.column width="50%"}

**:white_check_mark: Package Structure**

```{=html} 
<pre style="font-family: monospace; margin: 0; font-size: 24px;">
📦 mypackage/
├── R/            # Code
├── inst/extdata/ # Data + Scripts
├── man/          # Help files
<span style="background-color: #f0fff0;">└── vignettes/</span>    # Analysis
<span style="background-color: #f0fff0;">    ├── code_guide.Rmd</span>
 <span style="background-color: #f0fff0;">   ├── methodology.Rmd</span>
<span style="background-color: #f0fff0;">    └── report.Rmd</span>
</pre>
```
:::
:::::

## Impact: Organization → Efficiency

::: incremental
-   :arrows_counterclockwise: Models rapidly updated as new data became available
-   :alarm_clock: Analysis delivered on time
-   :syringe: Directly informed health policy decisions
:::

::: notes

:::

------------------------------------------------------------------------

## Document

::::: columns
::: {.column width="50%"}
::: {.fragment fragment-index="1"}

**:x: Separate Documents**

```{=html}
<pre style="font-family: monospace; margin: 0; font-size: 24px;">
myproject/
├── analysis.R
├── analysis_FINAL.R
├── analysis_FINAL_v2.R
<span style="background-color: #f0fff0;">├── code_guide.pdf</span>
├── data_raw.csv
<span style="background-color: #f0fff0;">├── final_report.pdf</span>
<span style="background-color: #f0fff0;">├── final_report_FINAL.pdf</span>
├── functions.R
<span style="background-color: #f0fff0;">├── methodology.docx</span>
└── more_functions.R
</pre>
```
:::
:::

::: {.column width="50%"}
::: {.fragment fragment-index="2"}

**:white_check_mark: Documentation lives WITH the code**

```{=html}
<pre style="font-family: monospace; margin: 0; font-size: 24px;">
📦 mypackage/
├── R/           
├── man/         # Help files
    ├── hello_world.Rd
    ├── do_something.Rd
    └── busy_busy_busy.Rd
└── vignettes/   # Docs + Reports
    ├── code_guide.Rmd
    ├── methodology.Rmd
    └── report.Rmd
</pre>                     
```
:::
:::
:::::

::: notes
Have you ever had to reconcile a separate word file and code file?
:::

## Document

```{.r code-line-numbers="|1|3-5|7|9-10"}
#' Calculate Required Coffee for Debugging Session
#'
#' @param error_messages Integer. Number of different error messages
#' @param browser_tabs Integer. Troubleshooting browser tabs currently open
#' @param hours_stuck Numeric. Hours spent on current bug
#'
#' @return Integer. Recommended cups of coffee (max 3 for your health)
#'
#' @examples
#' coffee_for_debugging(1, 2, 0.5)
#'
#' @author Caffeinated Coder
#' 
coffee_for_debugging <- function(error_messages,browser_tabs, hours_stuck){
  
  coffee_needed <- error_messages + (browser_tabs * 0.2) + hours_stuck
  result <- min(ceiling(coffee_needed), 3)  # Cap at 3 cups
  
  if (result >= 3) {
    message("Maybe try rubber duck debugging instead?")
  }
  return(result)
}
```


::: notes
Writing the help files as you write the code, so they can be documented in real time 
Future you will thank you!
:::

# Document

![](figures/coffee_for_debugging.png){width="55%"}

## Document

::::: columns
::: {.column width="50%"}
**:x: Separate Documents**

```{=html}
<pre style="font-family: monospace; margin: 0; font-size: 24px;">
myproject/
├── analysis.R
├── analysis_FINAL.R
├── analysis_FINAL_v2.R
<span style="background-color: #f0fff0;">├── code_guide.pdf</span>
├── data_raw.csv
<span style="background-color: #f0fff0;">├── final_report.pdf</span>
<span style="background-color: #f0fff0;">├── final_report_FINAL.pdf</span>
├── functions.R
<span style="background-color: #f0fff0;">├── methodology.docx</span>
└── more_functions.R
</pre>
```
:::

::: {.column width="50%"}
**:white_check_mark: Documentation lives WITH the code**

```{=html}
<pre style="font-family: monospace; margin: 0; font-size: 24px;">
📦 mypackage/
├── R/           
├── man/         # Help files
    ├── hello_world.Rd
    ├── do_something.Rd
    └── busy_busy_busy.Rd
└── vignettes/   # Docs + Reports
    ├── <s>code_guide.Rmd</s>
    ├── methodology.Rmd
    └── report.Rmd
</pre>                     
```

:::
:::::


## Document

::::: columns
::: {.column width="70%"}
::: {.fragment fragment-index="1"}
![](figures/vignette_screenshot.png)
:::
:::

::: {.column width="10%"}
::: {.fragment fragment-index="2"}
::: {style="display: flex; align-items: center; justify-content: center; height: 80vh; font-size: 3em; font-weight: bold;"}
<i class="fab fa-plus"></i> 
:::
:::
:::

::: {.column width="20%"}
::: {.fragment fragment-index="3"}
::: {style="display: flex; align-items: center; justify-content: center; height: 80vh; font-size: 5em; font-weight: bold;"}
<i class="fab fa-github"></i> 
:::
:::
:::
:::::

::: notes
Added bonus: Vignettes can be version controlled, whereas word documents can’t
Many different versions of a file -> one file with VC history!
:::

## Document

::::: columns
::: {.column width="50%"}
**:x: Separate Documents**

```{=html}
<pre style="font-family: monospace; margin: 0; font-size: 24px;">
myproject/
├── analysis.R
├── analysis_FINAL.R
├── analysis_FINAL_v2.R
<span style="background-color: #f0fff0;">├── code_guide.pdf</span>
├── data_raw.csv
<span style="background-color: #f0fff0;">├── final_report.pdf</span>
<span style="background-color: #f0fff0;">├── final_report_FINAL.pdf</span>
├── functions.R
<span style="background-color: #f0fff0;">├── methodology.docx</span>
└── more_functions.R
</pre>
```
:::

::: {.column width="50%"}
**:white_check_mark: Documentation lives WITH the code**

```{=html}
<pre style="font-family: monospace; margin: 0; font-size: 24px;">
📦 mypackage/
├── R/           
├── man/         # Help files
    ├── hello_world.Rd
    ├── do_something.Rd
    └── busy_busy_busy.Rd
└── vignettes/   # Docs + Reports
    ├── <s>code_guide.Rmd</s>
    ├── <s>methodology.Rmd</s>
    └── report.Rmd
</pre>                     
```

:::
:::::


## Impact: Documentation → Transparency

::: incremental
-   :shield: Policy decisions backed by transparent analysis
-   :bulb: Public could understand scientific basis for decisions
-   :handshake: More public trust
:::

::: notes
Transparency applies to all work, all sectors, particularly in work being used to inform decision making

Mention that we were audit and how this structure helped immensely
:::

------------------------------------------------------------------------

## Share

::::: columns
::: {.column width="50%"}
::: {.fragment fragment-index="1"}
![](figures/workplace.jpg)
:::
:::

::: {.column width="15%"}
::: {.fragment fragment-index="2"}
::: {style="display: flex; align-items: center; justify-content: center; height: 80vh; font-size: 3em; font-weight: bold;"}
<i class="fab fa-plus"></i> 
:::
:::
:::

::: {.column width="35%"}
::: {.fragment fragment-index="2"}
::: {style="display: flex; align-items: center; justify-content: space-between; height: 80vh; font-size: 1.1em"}
<!-- style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2em;" -->
<i class="fab fa-github fa-3x"></i>
<i class="fas fa-cloud fa-3x"></i>
<i class="fas fa-server fa-3x"></i>
:::
:::
:::

:::::


::: notes
Steps 1 + 2 have largely been about your individual workflow.
But when the R package structure is paired with a file sharing platfrom, magic happens.
:::

## Share

![](figures/collaboration.png)

## Share

::: incremental
- :gear: Easy Installation
- :arrow_right: Seamless Handovers
- :hammer_and_wrench: Reusable Tools
- :people_holding_hands: Facilitates Collaboration 
:::

::: notes
Without all three steps, it doesn't work.
This approach has been instrumental in collaborating with external experts. 
:::

## Impact: Sharing → Reproducibility

::: incremental
- <img src="figures/epidemics_hex.png" style="height: 1em; vertical-align: middle;"> Incorporated into `epidemics` package transmission model library 

- :chart_with_downwards_trend: Used to inform European-wide disease modeling

- 🌍 One national analysis became international infrastructure

:::


------------------------------------------------------------------------

## Your Turn!

::::: columns
::: {.column width="60%"}
::: {.fragment fragment-index="1"}
-   Try an R package structure for your next project
:::

::: {.fragment fragment-index="2"}
-   Tons of tools and learning materials available
:::

::: {.fragment fragment-index="4"}
-   **You'll never go back to messy folders**
:::
:::

::: {.column width="40%"}
::: {.fragment fragment-index="3" .fade-in}
![](figures/usethis_logo.png){width="40%"} ![](figures/cover-2e-small.png){width="40%"}
:::
:::
:::::

::: notes
:::

## Announcement

::: incremental
**I've just had my first R package accepted to CRAN!**

![](figures/mitey_hex_superman.png){width="30%"}

:::

::: notes
:::

## Get in touch!

::::: columns
::: {.column width="60%"}
<i class="fab fa-linkedin"></i> linkedin.com/in/kylieainslie

<i class="fa-brands fa-bluesky"></i> @kylieainslie.bsky.social

<i class="fab fa-github"></i> github.com/kylieainslie

<i class="fas fa-globe"></i> kylieainslie.github.io
:::

::: {.column width="40%"}
![](figures/leon.jpeg){width="100%"}
:::
:::::


::: notes
:::
